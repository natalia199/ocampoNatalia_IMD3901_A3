<!DOCTYPE html>
<html>
    <head>
        <title>user click Test</title>
        <meta charset="utf-8" />
    </head>

    <body>
        <!-- our buttond to tell others -->
        <button id="red" style="background-color:rgb(255, 0, 0); color:rgb(255, 255, 255)">RED</button>
        <button id="blue" style="background-color:rgb(0, 0, 255); color:rgb(255, 255, 255)">BLUE</button>
    
        <!-- Node module libraries created this for us when he installed it -->
        <script src="/socket.io/socket.io.js"></script>

        <script>
            let socket  = io();

            socket.on('connect', (userData) =>{
                console.log("I am connected!");

                document.querySelector('#red').addEventListener('click', function(){
                    console.log('red button clicked');
                    // We called it red cuz it has to be the same as the one in our server
                    // Socket connects to the server, its gonna listen for a 'red' event
                    socket.emit('red');
                });
                document.querySelector('#blue').addEventListener('click', function(){
                    console.log('blue button clicked');
                    socket.emit('blue');
                });

                socket.on("colour_change", (data) =>{
                    // css colour type - rgb(255, 255, 255)
                    let colourString = 'rgb(' + data.r + ',' + data.g + ',' + data.b + ')';
                    console.log("Colour change socket event: " + colourString);
                    document.body.style.backgroundColor = colourString;
                });
            });
        </script>
    
    </body>
</html>
